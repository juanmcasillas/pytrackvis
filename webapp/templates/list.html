{% from "bootstrap5/utils.html" import render_messages %}
{%- extends "base.html" %}


{% block title %}{% include 'title.html' %}{%- endblock %}
{% block content %}

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                {{ render_messages() }}
            </div>
        </div>
        <div class="bg-light mt-2 p-2">
            <h1 class="display-2">PyTrack Visualizer</h1>
            <h1 class="display-5">List Available tracks</h1>
            <p>These are the available tracks</p>
        </div>
        
        <div class="row", data-masonry='{"percentPosition": true }'>
        {% for track in tracks %}
        <div class="card m-1" style="max-width: 18rem;">
            <img src="{{url_for('static', filename='img/track_previews')}}/{{track.preview}}" class="pt-2 card-img-top" ></img>
            <div class="card-body">
              {{track.stamp|strftimestamp}}</br>
              <h5 class="card-title">{{track.name}}</h5>
              <p class="card-text">
                Longitud: {{track.length_3d|humandistance}}</br>
                Score: {{'%3.2f'|format(track.score|float)}}</br>
                
               </p>
                <center>
                <a href="/tracks/show?id={{track.id}}" class="btn btn-primary">Show</a>
                </center>
              {% if track.similar|length >= 1 %}  
                <br>
                <h6>Similar tracks</h6>
                {% for similar in track.similar %}  
                        <li><a href="/tracks/show?id={{similar.id}}">{{similar.name}} ({{similar.id}})</a>
                {% endfor %}
              {% endif %}
            </div>
          </div>
        {% endfor %}
        </div>
    </div>

{%- endblock %}
